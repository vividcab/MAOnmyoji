{
	"ENTRY-领取庭院中的日常奖励": {
		"_doc": "执行此任务的时候，游戏应当已经在庭院了；要考虑其他情况，做异常处理",
		"next": ["TASK-领取日常奖励"],
		"interrupt": ["INT-尝试从任意界面回到庭院"]
	},
	"TASK-领取日常奖励": {
		"_doc": "在 RunTaskList 实现中再判断是否真的执行某任务。例如签到任务只需要每天执行一次，领取体力是限时的",
		"recognition": "TemplateMatch",
		"roi": [680, 220, 240, 100],
		"template": ["庭院/枫叶庭院町中牌子.png", "庭院/初始庭院町中牌子.png"],
		"threshold": [0.9, 0.9],
		"action": "Custom",
		"custom_action": "RunTaskList",
		"custom_action_param": {
			"tasks": [
				{"taskname": "1-每日签到", "wait": 0.3},
				{"taskname": "2-领取御魂加成", "wait": 0.3},
				{"taskname": "3-领取寮包", "wait": 0.3},
				{"taskname": "4-领取体力", "wait": 0.3},
				{"taskname": "5-领取勾玉", "wait": 0.3},
				{"taskname": "6-领邮件", "wait": 0.3},
				{"taskname": "7-查看悬赏", "wait": 0.3},
				{"taskname": "8-领取商店每日黑蛋", "wait": 0.3},
				{"taskname": "9-每日免费抽卡", "wait": 0.3},
				{"taskname": "10-查看神秘商店并截图记录", "wait": 0.3}
			]
		}
	},

	"1-每日签到": {
		"recognition": "TemplateMatch",
		"roi": [290, 508, 36, 42],
		"roi_offset": [-60, -20, 80, 40],
		"template": "签到/签到.png",
		"action": "Click",
		"post_delay": 1000,
		"next": ["1-1检测已经打开了抽签"],
		"interrupt": ["1-ACT-检测点击签到小纸人"],
		"timeout": 2000,
		"on_error": []
	},
	"1-ACT-检测点击签到小纸人": {
		"recognition": "TemplateMatch",
		"roi": [290, 508, 36, 42],
		"roi_offset": [-60, -20, 80, 40],
		"template": "签到/签到.png",
		"action": "Click",
		"post_delay": 1500
	},
	"1-1检测已经打开了抽签": {
		"recognition": "OCR",
		"roi": [606, 186, 62, 85],
		"expected": "每",
		"action": "Click",
		"post_delay": 1500,
		"next": ["1-2检测到已经解签然后截图记录"],
		"interrupt": ["1-ACT-检测到没签到的每日一签并点击", "1-ACT-检测到解签按钮并点击"],
		"timeout": 5000,
		"on_error": ["TASK-连续按ESC关闭弹窗直到出现退出游戏弹窗"]
	},
	"1-ACT-检测到没签到的每日一签并点击": {
		"recognition": "OCR",
		"roi": [606, 186, 62, 85],
		"expected": "每",
		"action": "Click",
		"post_delay": 1500
	},
	"1-ACT-检测到解签按钮并点击": {
		"recognition": "OCR",
		"roi": [866, 449, 67, 41],
		"expected": "解签",
		"only_rec": true,
		"action": "Click",
		"post_delay": 1500
	},
	"1-2检测到已经解签然后截图记录": {
		"recognition": "OCR",
		"roi": [866, 449, 67, 41],
		"expected": "分享",
		"only_rec": true,
		"action": "Custom",
		"custom_action": "Screenshot",
		"custom_action_param": {"save_dir": "user_data/签到记录"},
		"next": ["ACT-检测各类右上部分叉号并点一下"],
		"on_error": []
	},

	"2-领取御魂加成": {
		"recognition": "TemplateMatch",
		"roi": [279, 501, 53, 48],
		"roi_offset": [-60, -60, 120, 120],
		"template": "签到/御魂加成.png",
		"action": "Click",
		"post_delay": 1000,
		"next": ["ACT-无条件按一下Esc"],
		"timeout": 300,
		"on_error": []
	},

	"3-领取寮包": {
		"recognition": "TemplateMatch",
		"roi": [279, 501, 53, 48],
		"roi_offset": [-60, -60, 120, 120],
		"template": "签到/寮包.png",
		"action": "Click",
		"post_delay": 1500,
		"next": ["3-1领取寮包截图"],
		"timeout": 300,
		"on_error": []
	},
	"3-1领取寮包截图": {
		"action": "Custom",
		"custom_action": "Screenshot",
		"custom_action_param": {"save_dir": "user_data/寮包记录"},
		"next": ["ACT-无条件按一下Esc"]
	},

	"4-领取体力": {
		"recognition": "TemplateMatch",
		"roi": [903, 504, 43, 46],
		"roi_offset": [-200, -50, 300, 100],
		"template": "签到/领体力.png",
		"action": "Click",
		"post_delay": 1000,
		"next": ["ACT-无条件按一下Esc"],
		"timeout": 300,
		"on_error": []
	},

	"5-领取勾玉": {
		"recognition": "TemplateMatch",
		"roi": [897, 500, 51, 54],
		"roi_offset": [-200, -50, 300, 100],
		"template": "签到/领勾玉.png",
		"action": "Click",
		"post_delay": 1000,
		"next": ["ACT-无条件按一下Esc"],
		"timeout": 300,
		"on_error": []
	},

	"6-领邮件": {
		"recognition": "TemplateMatch",
		"roi": [1132, 26, 44, 38],
		"template": "签到/邮件图标.png",
		"action": "Click",
		"next": ["点击一键已读"],
		"timeout": 500,
		"on_error": ["ACT-无条件按一下Esc"]
	},
	"点击一键已读": {
		"recognition": "OCR",
		"roi": [184, 610, 107, 33],
		"only_rec": true,
		"expected": "已读",
		"action": "Click",
		"post_delay": 800,
		"next": ["点击一键领取"],
		"on_error": ["TASK-连续按ESC关闭弹窗直到出现退出游戏弹窗"]
	},
	"点击一键领取": {
		"recognition": "TemplateMatch",
		"roi": [50, 604, 59, 55],
		"template": "签到/一键领取.png",
		"action": "Click",
		"next": ["确定领取或御魂爆仓确认按钮"],
		"on_error": ["TASK-连续按ESC关闭弹窗直到出现退出游戏弹窗"]
	},
	"确定领取或御魂爆仓确认按钮": {
		"recognition": "TemplateMatch",
		"roi": [585, 397, 276, 210],
		"template": "签到/确定领取全部邮件.png",
		"action": "Click",
		"post_delay": 1000,
		"next": ["TASK-连续按ESC关闭弹窗直到出现退出游戏弹窗"]
	},

	"7-查看悬赏": {
		"recognition": "TemplateMatch",
		"roi": [186, 356, 45, 40],
		"roi_offset": [0, -30, 60, 30],
		"template": ["签到/悬赏封印.png", "签到/悬赏封印2.png"],
		"action": "Click",
		"post_delay": 1200,
		"next": ["检测悬赏任务加载成功"],
		"timeout": 10000,
		"on_error": ["ACT-检测各类右上部分叉号并点一下"]
	},
	"检测悬赏任务加载成功": {
		"recognition": "TemplateMatch",
		"template": ["签到/检测协作金币.png", "签到/检测协作觉醒.png", "签到/勾协.png"],
		"roi": [178, 497, 968, 97],
		"next": ["检测到勾协就截图保存"],
		"timeout": 300,
		"on_error": ["ACT-检测各类右上部分叉号并点一下"]
	},
	"检测到勾协就截图保存": {
		"recognition": "TemplateMatch",
		"template": "签到/勾协.png",
		"roi": [178, 497, 968, 97],
		"action": "Custom",
		"custom_action": "Screenshot",
		"custom_action_param": {"save_dir": "user_data/悬赏封印"},
		"next": ["ACT-检测各类右上部分叉号并点一下"],
		"on_error": []
	},

	"8-领取商店每日黑蛋": {
		"next": ["检测点击商店图标"],
		"interrupt": ["检测卷轴是否打开"],
		"timeout": 2000,
		"on_error": []
	},
	"检测卷轴是否打开": {
		"recognition": "TemplateMatch",
		"roi": [35, 596, 77, 59],
		"template": "庭院/闲庭图标.png",
		"action": "Click",
		"target": [1223, 632, 26, 49],
		"post_delay": 1000
	},
	"检测点击商店图标": {
		"recognition": "TemplateMatch",
		"roi": [645, 620, 72, 45],
		"template": "签到/商店图标.png",
		"threshold": 0.4,
		"action": "Click",
		"post_delay": 1500,
		"next": ["检测点击礼包屋"],
		"timeout": 5000,
		"on_error": ["TASK-尝试从任意界面回到庭院"]
	},
	"检测点击礼包屋": {
		"recognition": "TemplateMatch",
		"roi": [1132, 636, 52, 52],
		"template": "签到/礼包屋.png",
		"action": "Click",
		"post_delay": 1200,
		"next": ["检测点击日常"],
		"interrupt": [
			"ACT-检测左上角方框折线返回按钮并点一下",
			"ACT-检测各类右上部分叉号并点一下",
			"ACT-检测点击礼包屋按钮"
		],
		"timeout": 4000,
		"on_error": ["TASK-尝试从任意界面回到庭院"]
	},
	"ACT-检测点击礼包屋按钮": {
		"recognition": "TemplateMatch",
		"roi": [1132, 636, 52, 52],
		"template": "签到/礼包屋.png",
		"action": "Click",
		"post_delay": 1200
	},
	"检测点击日常": {
		"recognition": "TemplateMatch",
		"roi": [1181, 85, 55, 480],
		"template": "签到/日常.png",
		"action": "Click",
		"post_delay": 1000,
		"next": ["检测点击黑蛋"],
		"timeout": 500,
		"on_error": ["TASK-连续按ESC关闭弹窗直到出现退出游戏弹窗"]
	},
	"检测点击黑蛋": {
		"recognition": "TemplateMatch",
		"roi": [217, 197, 51, 40],
		"template": "签到/黑蛋.png",
		"threshold": 0.5,
		"action": "Click",
		"post_delay": 800,
		"next": ["TASK-连续按ESC关闭弹窗直到出现退出游戏弹窗"]
	},

	"9-每日免费抽卡": {
		"next": ["枫色秋庭找召唤物灯笼", "初始庭院找召唤灯笼"],
		"timeout": 5000,
		"on_error": []
	},
	"枫色秋庭找召唤物灯笼": {
		"recognition": "OCR",
		"roi": [1091, 157, 43, 46],
		"only_rec": true,
		"expected": "召",
		"action": "Click",
		"post_delay": 2000,
		"next": ["检测处于召唤屋抽卡页面"],
		"timeout": 5000,
		"on_error": ["TASK-尝试从任意界面回到庭院"]
	},
	"初始庭院找召唤灯笼": {
		"recognition": "OCR",
		"roi": [1076, 162, 50, 46],
		"only_rec": true,
		"expected": "召",
		"action": "Click",
		"post_delay": 2000,
		"next": ["检测处于召唤屋抽卡页面"],
		"timeout": 5000,
		"on_error": ["TASK-尝试从任意界面回到庭院"]
	},
	"检测处于召唤屋抽卡页面": {
		"recognition": "OCR",
		"roi": [113, 5, 92, 55],
		"only_rec": true,
		"expected": "^召唤$",
		"action": "Click",
		"post_delay": 1000,
		"next": ["检测底部是神秘召唤则没有免费抽卡资格", "检测底部免费抽卡"],
		"timeout": 1500,
		"on_error": ["TASK-尝试从任意界面回到庭院"]
	},
	"检测底部是神秘召唤则没有免费抽卡资格": {
		"recognition": "OCR",
		"roi": [566, 675, 112, 43],
		"only_rec": true,
		"expected": "神秘",
		"next": ["TASK-尝试从任意界面回到庭院"]
	},
	"检测底部免费抽卡": {
		"recognition": "OCR",
		"roi": [570, 671, 108, 47],
		"only_rec": true,
		"expected": "免",
		"action": "DoNothing",
		"next": ["检测是否还有免费抽数"],
		"timeout": 300,
		"on_error": ["TASK-尝试从任意界面回到庭院"]
	},
	"检测是否还有免费抽数": {
		"recognition": "OCR",
		"roi": [625, 674, 54, 43],
		"only_rec": true,
		"expected": "1/1",
		"action": "Click",
		"target": [603, 611, 49, 43],
		"next": ["检测打开了画画抽卡界面"],
		"timeout": 300,
		"on_error": ["TASK-尝试从任意界面回到庭院"]
	},
	"检测打开了画画抽卡界面": {
		"recognition": "OCR",
		"roi": [393, 650, 80, 50],
		"only_rec": true,
		"expected": "单抽",
		"action": "Swipe",
		"begin": [473, 383, 97, 84],
		"end": [626, 180, 141, 127],
		"duration": 500,
		"post_delay": 10000,
		"next": ["检测抽完卡的确定按钮并点击"],
		"interrupt": ["检测到抽出SSR后右下角截图分享按钮并点击空白处", "ACT-检测各类右上部分叉号并点一下"],
		"timeout": 300000,
		"on_error": ["TASK-尝试从任意界面回到庭院"]
	},
	"检测到抽出SSR后右下角截图分享按钮并点击空白处": {
		"recognition": "TemplateMatch",
		"roi": [1151, 619, 124, 97],
		"template": "召唤屋抽卡/抽到SSR后右下角的截图分享按钮.png",
		"action": "Click",
		"target": [1123, 70, 64, 57],
		"post_delay": 2000
	},
	"检测抽完卡的确定按钮并点击": {
		"recognition": "OCR",
		"roi": [455, 626, 94, 43],
		"only_rec": true,
		"expected": "确定",
		"action": "Click",
		"post_delay": 800,
		"next": ["TASK-尝试从任意界面回到庭院"]
	},

	"10-查看神秘商店并截图记录": {
		"next": ["检测点击商店图标之后打开神秘商店"],
		"interrupt": ["检测卷轴是否打开"],
		"timeout": 2000,
		"on_error": []
	},
	"检测点击商店图标之后打开神秘商店": {
		"recognition": "TemplateMatch",
		"roi": [645, 620, 72, 45],
		"template": "签到/商店图标.png",
		"threshold": 0.4,
		"action": "Click",
		"post_delay": 1500,
		"next": ["检测神秘商店点击"],
		"timeout": 5000,
		"on_error": ["TASK-尝试从任意界面回到庭院"]
	},
	"检测神秘商店点击": {
		"recognition": "TemplateMatch",
		"roi": [22, 79, 79, 476],
		"template": "签到/神秘商店.png",
		"action": "Click",
		"post_delay": 1500,
		"next": ["神秘商店截第一张图"]
	},
	"神秘商店截第一张图": {
		"action": "Custom",
		"custom_action": "Screenshot",
		"custom_action_param": {"save_dir": "user_data/神秘商店"},
		"post_delay": 500,
		"next": ["划动一下之后再截第二张"]
	},
	"划动一下之后再截第二张": {
		"action": "Swipe",
		"begin": [570, 455, 20, 20],
		"end": [592, 151, 20, 20],
		"duration": 800,
		"post_delay": 500,
		"next": ["神秘商店截第二张图"]
	},
	"神秘商店截第二张图": {
		"action": "Custom",
		"custom_action": "Screenshot",
		"custom_action_param": {"save_dir": "user_data/神秘商店"},
		"post_delay": 500,
		"next": ["TASK-尝试从任意界面回到庭院"]
	}
}
