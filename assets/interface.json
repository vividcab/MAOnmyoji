{
	"name": "MAOnmyoji",
	"url": "https://github.com/vividcab/MAOnmyoji",
	"mirrorchyan_rid": "",
	"mirrorchyan_multiplatform": false,
	"mfa_max_version": "v1.6.5",
	"controller": [{"name": "ADB 默认方式", "type": "Adb"}],
	"resource": [{"name": "官服", "path": ["{PROJECT_DIR}/resource/base"]}],
	"agent": {"child_exec": "python", "child_args": ["-u", "{PROJECT_DIR}/../agent/main.py"]},
	"task": [
		{
			"name": "多角色-每日签到领商店收结界",
			"entry": "ENTRY-多角色任务模板",
			"advanced": ["每日签到商店结界任务-指定角色名列表"],
			"option": ["是否查看神秘商店"],
			"doc": "包含任务：\nENTRY-登录某角色\nENTRY-领取庭院中的日常奖励\nENTRY-领取阴阳寮和结界奖励\nENTRY-退出登录某角色"
		},
		{
			"name": "多角色-查看悬赏和收结界",
			"entry": "ENTRY-多角色任务模板",
			"advanced": ["查看悬赏和收结界-指定角色名列表"],
			"doc": "包含任务：\nENTRY-登录某角色\n4-领取体力\n7-查看悬赏\nENTRY-领取阴阳寮和结界奖励\nENTRY-退出登录某角色"
		},
		{
			"name": "多角色-混个逢魔",
			"entry": "ENTRY-多角色任务模板",
			"advanced": ["混个逢魔-指定角色名列表"],
			"doc": "包含任务：\nENTRY-登录某角色\n7-查看悬赏\nENTRY-逢魔任务"
		},
		{
			"name": "多角色-超鬼王每天自动刷门票",
			"entry": "ENTRY-多角色任务模板",
			"advanced": ["自动刷票-指定角色名列表"],
			"doc": "包含任务：\nENTRY-登录某角色\nENTRY-单刷觉醒刷票\nENTRY-退出登录某角色"
		},
		{
			"name": "多角色-活动爬塔",
			"entry": "ENTRY-多角色任务模板",
			"advanced": ["活动爬塔-指定角色名列表"],
			"doc": "包含任务：\nENTRY-登录某角色\n任务入口-从庭院进入雪御前活动爬塔探索页面\nHD-活动探索爬塔任务入口\n任务出口-从活动页面回到庭院\nENTRY-退出登录某角色"
		},
		{
			"name": "当前角色一键活动爬塔（平将门版本）",
			"entry": "ENTRY-当前角色一键爬塔",
			"advanced": ["爬塔战斗预计通关时间（毫秒）"],
			"doc": "注意事项：1、执行本任务前，游戏处于庭院（【枫色秋庭皮肤】）或已经手动打开活动的爬塔界面（【疆场鏖战】、【将魂试炼】或【临战演武】都行）\n2、注意提前换好阵容和御魂、自行选择难度\n3、若从庭院启动任务，则只刷【疆场鏖战】活动门票"
		},
		{
			"name": "启动游戏",
			"entry": "TASK-启动游戏到登录界面"
		},
		{
			"name": "关闭游戏",
			"entry": "TASK-关闭游戏"
		},
		{
			"name": "截图测试",
			"entry": "Screenshot",
			"advanced": ["focus输出内容"],
			"option": ["是否输出 focus 信息"]
		},
		{
			"name": "刷业原火或者御灵或者觉醒",
			"entry": "TASK-检测副本界面",
			"advanced": ["挑战副本次数", "预计通关时间（毫秒）"],
			"doc": "执行本任务前，需要手动打开业原火或者御灵或者觉醒副本界面，自行选择好刷哪个\n请先手动刷一把，确认阵容配置正确，可以记录大致通关时间（通关时右上角记录的时间）\n请在任务高级设置处输入自动挑战的次数和预计通关时间"
		},
		{
			"name": "清结界突破券",
			"entry": "ENTRY-清结界突破券",
			"advanced": ["最后一个结界退几次", "清到剩余几张突破券就停止"],
			"option": ["清完突破后是否返回庭院"],
			"doc": "注意事项：1、执行本任务前，游戏处于庭院（【枫色秋庭皮肤】）或【探索地图界面】或【结界突破界面】\n2、注意提前换好比较稳的自动突破阵容和御魂，目前不会红绿标\n3、无论成功或失败，每打完一局都会重新识别当前突破状态，兼容性较高"
		},
		{
			"name": "组队刷某副本",
			"entry": "TASK-组队刷图-检测在组队界面",
			"advanced": ["组队挑战次数", "预计组队通关时间（毫秒）"],
			"doc": "本任务作为队长或队员均可\n执行本任务前，需要手动组队并先刷一把，设置好自动邀请或自动接受邀请\n请在任务高级设置处输入自动挑战的次数和预计通关时间"
		},
		{
			"name": "清寮突破",
			"entry": "ENTRY-清寮突破",
			"option": ["清完寮突后是否返回庭院"],
			"doc": "注意事项：1、执行本任务前，游戏处于庭院（【枫色秋庭皮肤】）或【探索地图界面】或【结界突破界面】或【寮突界面】\n2、注意提前换好比较稳的自动突破阵容和御魂，目前不会红绿标\n"
		},
		{
			"name": "超鬼王-自动觉醒刷鬼王召唤券",
			"entry": "ENTRY-单刷觉醒刷票",
			"doc": "注意事项：1、执行本任务前，游戏处于庭院（初始庭院或【枫色秋庭皮肤】）或【探索地图界面】\n2、刷20次觉醒会退出来看看票满没满50，满了会自动停止\n"
		}
	],
	"advanced": {
		"每日签到商店结界任务-指定角色名列表": {
			"field": "指定角色名列表",
			"type": "string",
			"default": "ALL,",
			"pipeline_override": {
				"ENTRY-多角色任务模板": {
					"custom_action_param": {
						"rolenames": "{指定角色名列表}",
						"tasks": [
							{"taskname": "ENTRY-登录某角色", "wait": 2},
							{"taskname": "ENTRY-领取庭院中的日常奖励", "wait": 0.5},
							{"taskname": "ENTRY-领取阴阳寮和结界奖励", "wait": 0.5},
							{"taskname": "ENTRY-退出登录某角色", "wait": 0.5}
						]
					}
				}
			}
		},
		"查看悬赏和收结界-指定角色名列表": {
			"field": "指定角色名列表",
			"type": "string",
			"default": "ALL,",
			"pipeline_override": {
				"ENTRY-多角色任务模板": {
					"custom_action_param": {
						"rolenames": "{指定角色名列表}",
						"tasks": [
							{"taskname": "ENTRY-登录某角色", "wait": 2},
							{"taskname": "4-领取体力", "wait": 0.5},
							{"taskname": "7-查看悬赏", "wait": 0.5},
							{"taskname": "ENTRY-领取阴阳寮和结界奖励", "wait": 0.5},
							{"taskname": "ENTRY-退出登录某角色", "wait": 0.5}
						]
					}
				}
			}
		},
		"混个逢魔-指定角色名列表": {
			"field": "指定角色名列表",
			"type": "string",
			"default": "ALL,",
			"pipeline_override": {
				"ENTRY-多角色任务模板": {
					"custom_action_param": {
						"rolenames": "{指定角色名列表}",
						"tasks": [
							{"taskname": "ENTRY-登录某角色", "wait": 2},
							{"taskname": "7-查看悬赏", "wait": 0.5},
							{"taskname": "ENTRY-逢魔任务", "wait": 0.5}
						]
					}
				}
			}
		},
		"活动爬塔-指定角色名列表": {
			"field": "指定角色名列表",
			"type": "string",
			"default": "ALL,",
			"pipeline_override": {
				"ENTRY-多角色任务模板": {
					"custom_action_param": {
						"rolenames": "{指定角色名列表}",
						"tasks": [
							{"taskname": "ENTRY-登录某角色", "wait": 2},
							{"taskname": "任务入口-从庭院进入雪御前活动爬塔探索页面", "wait": 0.5},
							{"taskname": "HD-活动探索爬塔任务入口", "wait": 0.5},
							{"taskname": "任务出口-从活动页面回到庭院", "wait": 0.5},
							{"taskname": "ENTRY-退出登录某角色", "wait": 0.5}
						]
					}
				}
			}
		},
		"自动刷票-指定角色名列表": {
			"field": "指定角色名列表",
			"type": "string",
			"default": "ALL,",
			"pipeline_override": {
				"ENTRY-多角色任务模板": {
					"custom_action_param": {
						"rolenames": "{指定角色名列表}",
						"tasks": [
							{"taskname": "ENTRY-登录某角色", "wait": 2},
							{"taskname": "ENTRY-单刷觉醒刷票", "wait": 0.5},
							{"taskname": "ENTRY-退出登录某角色", "wait": 0.5}
						]
					}
				}
			}
		},
		"focus输出内容": {
			"field": "用户输入",
			"type": "string",
			"default": "用户在此处输入信息",
			"pipeline_override": {"Screenshot": {"focus": {"start": "{用户输入}"}}},
			"doc": "用户在此处输入的内容将在任务节点执行时打印输出"
		},
		"挑战副本次数": {
			"field": "挑战业原火或者御灵副本次数",
			"type": "int",
			"default": 2,
			"pipeline_override": {
				"检测挑战次数是否超过设置的次数": {
					"custom_recognition_param": {
						"target": "{挑战业原火或者御灵副本次数}"
					}
				}
			},
			"doc": "输入挑战业原火或者御灵或者觉醒副本的次数"
		},
		"预计通关时间（毫秒）": {
			"field": "预计通关业原火或者御灵时间（毫秒）",
			"type": "int",
			"default": 15000,
			"pipeline_override": {
				"检测已经开始战斗等待X秒": {
					"post_delay": "{预计通关业原火或者御灵时间（毫秒）}"
				}
			},
			"doc": "注意单位是毫秒，例如预计 17 秒通关，请填 17000 \n 次数设置的预计通关时间不影响流程，只是在这个时间段内不检测战斗是否完成，略微降低一点点性能消耗 \n 如果不在意这一点资源消耗，就写 5000 吧"
		},
		"组队挑战次数": {
			"field": "组队挑战次数",
			"type": "int",
			"default": 2,
			"pipeline_override": {
				"检测挑战次数是否超过设置的次数-组队": {
					"custom_recognition_param": {
						"target": "{组队挑战次数}"
					}
				}
			}
		},
		"预计组队通关时间（毫秒）": {
			"field": "预计组队通关时间（毫秒）",
			"type": "int",
			"default": 13000,
			"pipeline_override": {
				"检测已经开始战斗等待X秒-组队": {
					"post_delay": "{预计组队通关时间（毫秒）}"
				}
			},
			"doc": "注意单位是毫秒，例如预计 17 秒通关，请填 17000 \n 次数设置的预计通关时间不影响流程，只是在这个时间段内不检测战斗是否完成，略微降低一点点性能消耗 \n 如果不在意这一点资源消耗，就写 5000 吧"
		},
		"最后一个结界退几次": {
			"field": "退最后一个结界次数",
			"type": "int",
			"default": 4,
			"pipeline_override": {
				"TASK-T-8退这个突破X次": {
					"custom_recognition_param": {
						"target": "{退最后一个结界次数}",
						"recognition": {
							"type": "TemplateMatch",
							"param": {"template": "突破/突破进攻按钮.png", "roi": [241, 333, 923, 381]}
						}
					}
				}
			},
			"doc": "填写数字！例如想退级可以填 10 ，那么这一轮突破过程中成功9次失败10次，一般来说会降级"
		},
		"清到剩余几张突破券就停止": {
			"field": "清到剩余几张突破券",
			"type": "string",
			"default": 0,
			"pipeline_override": {
				"TASK-END检测到没突破券了停止": {
					"expected": "^{清到剩余几张突破券}$"
				}
			},
			"doc": "填写数字！例如想留 10 张突破券，就填 10 "
		},
		"爬塔战斗预计通关时间（毫秒）": {
			"field": "爬塔战斗预计通关时间（毫秒）",
			"type": "int",
			"default": 8000,
			"pipeline_override": {
				"HD-3检测已经开始爬塔战斗等待X秒": {
					"post_delay": "{爬塔战斗预计通关时间（毫秒）}"
				}
			}
		}
	},
	"option": {
		"是否输出 focus 信息": {
			"cases": [
				{"name": "是", "pipeline_override": {"Screenshot": {"focus": {"start": "执行测试截图任务"}}}},
				{"name": "否", "pipeline_override": {"Screenshot": {"focus": {}}}}
			],
			"default_case": "否",
			"doc": "若选择否，则不在右侧日志栏打印输出信息"
		},
		"是否查看神秘商店": {
			"cases": [
				{"name": "是", "pipeline_override": {"10-查看神秘商店并截图记录": {"enabled": true}}},
				{"name": "否", "pipeline_override": {"10-查看神秘商店并截图记录": {"enabled": false}}}
			],
			"default_case": "否"
		},
		"清完突破后是否返回庭院": {
			"cases": [
				{"name": "是", "pipeline_override": {}},
				{"name": "否", "pipeline_override": {"TASK-END检测到没突破券了停止": {"next": []}}}
			],
			"default_case": "否"
		},
		"清完寮突后是否返回庭院": {
			"cases": [
				{"name": "是", "pipeline_override": {"TASK-END清寮突任务结束": {"next": []}}},
				{"name": "否", "pipeline_override": {"TASK-END清寮突任务结束": {"next": []}}}
			],
			"default_case": "否"
		}
	}
}
